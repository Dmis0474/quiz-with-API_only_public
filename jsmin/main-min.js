let dataArr;const loader=document.querySelector(".preloader");function displayLoading(){loader.classList.add("display")}function hideLoading(){loader.classList.remove("display")}const requestURL="https://the-trivia-api.com/api/questions";displayLoading(),fetch(requestURL).then(e=>e.json()).then(e=>{showInfo(dataArr=e),hideLoading()});let allCorrectAnswers=[];function showInfo(e){let t=document.createElement("p");t.innerHTML=`Your category:<br> ${e[0].category}`,document.querySelector("#question__section").appendChild(t);let n=document.createElement("p");n.innerHTML=`Your question:<br> ${e[0].question}`,document.querySelector("#question__section").appendChild(n);let o=[...e[0].incorrectAnswers];o.push(e[0].correctAnswer),o=o.sort(),console.log(o);let r=document.createElement("div");r.className="question__items",r.inner=o.map((e,t)=>{let n=document.createElement("div");n.className="question__item",r.appendChild(n);let o=document.createElement("input"),i=document.createElement("label");o.className="btn",o.onchange=addAnswer,o.addEventListener("onchange",addAnswer,!1),o.type="radio",o.id=`${e}id`,o.value=`${e}`,o.name="inputOption",n.appendChild(o),i.innerHTML=`${e}`,i.setAttribute("for",`${e}id`),i.className="options",n.appendChild(i)}),document.querySelector("#question__section").appendChild(r);let i=[];e.map(e=>i.push(e.correctAnswer)),console.log(i),allCorrectAnswers=[...i]}let indexQuestion=0,arrAnswer=[];function addAnswer(e){let t=e.target.value;arrAnswer.push(t)}function nextQuestion(){indexQuestion>=dataArr.length&&checkAnswer();let e=document.getElementById("question__section");for(;e.firstChild;)e.removeChild(e.firstChild);++indexQuestion;let t=document.createElement("p");t.innerHTML=`Your category:<br> ${dataArr[indexQuestion].category}`,document.querySelector("#question__section").appendChild(t);let n=document.createElement("p");n.innerHTML=`Your question:<br> ${dataArr[indexQuestion].question}`,document.querySelector("#question__section").appendChild(n);let o=[...dataArr[indexQuestion].incorrectAnswers];o.push(dataArr[indexQuestion].correctAnswer),o=o.sort(),console.log(o);let r=document.createElement("div");r.className="question__items",r.inner=o.map((e,t)=>{let n=document.createElement("div");n.className="question__item",r.appendChild(n);let o=document.createElement("input"),i=document.createElement("label");o.className="btn",o.onchange=addAnswer,o.addEventListener("onchange",addAnswer,!1),o.type="radio",o.id=`${e}id`;o.id;o.value=`${e}`,o.name="inputOption",n.appendChild(o),i.innerHTML=`${e}`,i.setAttribute("for",`${e}id`),i.className="options",n.appendChild(i),document.querySelector("#question__section").appendChild(r)})}function previousQuestion(){indexQuestion>=dataArr.length&&checkAnswer();let e=document.getElementById("question__section");for(;e.firstChild;)e.removeChild(e.firstChild);--indexQuestion;let t=document.createElement("p");t.innerHTML=`Your category:<br> ${dataArr[indexQuestion].category}`,document.querySelector("#question__section").appendChild(t);let n=document.createElement("p");n.innerHTML=`Your question:<br> ${dataArr[indexQuestion].question}`,document.querySelector("#question__section").appendChild(n);let o=[...dataArr[indexQuestion].incorrectAnswers];o.push(dataArr[indexQuestion].correctAnswer),o=o.sort(),console.log(o);let r=document.createElement("div");r.className="question__items",r.inner=o.map((e,t)=>{let n=document.createElement("div");n.className="question--item",r.appendChild(n);let o=document.createElement("input"),i=document.createElement("label");o.className="btn",o.onchange=addAnswer,o.addEventListener("onchange",addAnswer,!1),o.type="radio",o.id=`${e}id`;o.id;o.value=`${e}`,o.name="inputOption",n.appendChild(o),i.innerHTML=`${e}`,i.setAttribute("for",`${e}id`),i.className="options",n.appendChild(i),document.querySelector("#question__section").appendChild(r)})}function checkAnswer(){let e=0;arrAnswer.map(t=>{allCorrectAnswers.indexOf(t)>=0&&e++});let t=document.createElement("div");t.className="question__section--result",t.innerHTML=`<p className = "">Cool! Correct Answers: ${e}!</p> `;const n=document.querySelector("#question__section");for(;n.firstChild;)n.removeChild(n.lastChild);document.querySelector("#question__section").appendChild(t)}console.log(arrAnswer),document.querySelector("#next").addEventListener("click",nextQuestion,!1),document.querySelector("#prev").addEventListener("click",previousQuestion,!1),document.querySelector("#get").addEventListener("click",checkAnswer,!1);